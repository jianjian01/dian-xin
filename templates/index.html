{% extends "base.html" %}


{% block content %}

    <main>

    </main>
{% endblock %}


{% block script %}
    <script>
        window.onload = function () {
            function setDate() {
                let today = new Date();
                let dd = String(today.getDate()).padStart(2, '0');
                let mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!
                let yyyy = today.getFullYear();
                return yyyy + ' 年 ' + mm + ' 月 ' + dd + ' 日';
            }

            {#document.getElementsByClassName('header-date')[0].innerHTML = setDate();#}
            {% if request.user %}
            {% else %}
                // 弹出登录层
                let btn = document.getElementById('header-login-button');
                let modal = document.getElementById("login-modal");
                let close = document.getElementsByClassName("close")[0];
                btn.onclick = function (e) {
                    console.log("abcd");
                    modal.style.display = "block";
                };
                close.onclick = function (e) {
                    modal.style.display = "none";
                };
                window.onclick = function (event) {
                    if (event.target === modal) {
                        modal.style.display = "none";
                    }
                };
            {% endif %}
        };

    </script>
{% endblock %}
