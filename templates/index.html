{% extends "base.html" %}

{% block css %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/index.css') }}">
{% endblock %}

{% block content %}
    <main>
        {% if categories %}
            {% for c in categories | sort(attribute="order") %}
                {% set ss = sites.get(c.id) %}
                {% if ss %}
                    <div data-id="{{ c.id }}">
                        {% if c.name %}
                            <h5 class="site-category ">{{ c.name }}</h5>
                            <hr class="site-hr">
                        {% endif %}
                        <div class="site-list">
                            {% for s in ss | sort(attribute="order,create_time") %}
                                <div class="site-item">
                                    <a href="{{ s.url }}" class="site-name" target="_blank"
                                            {% if s.icon %}
                                       style="background-image: url(/static/site/{{ s.icon }}.png)"
                                            {% endif %}
                                    >{{ s.name }}</a>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                {% endif %}
            {% endfor %}
        {% endif %}
    </main>
{% endblock %}


{% block script %}
    <script type="application/javascript" src="{{ url_for('static', filename='js/index.js') }}"></script>
{% endblock %}
